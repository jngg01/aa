<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ›ï¸ ì¥ë°”êµ¬ë‹ˆ ëˆ ê³„ì‚° ì‹œë®¬ë ˆì´í„°</title>
    <!-- Tailwind CSS CDN --><script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0fdf4; /* Emerald 50 */
        }
        .item-button {
            width: 120px;
            height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            background-color: #fff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .item-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        .item-button img {
            width: 70px;
            height: 70px;
            object-fit: contain;
            margin-bottom: 5px;
        }
        .currency-button {
            width: 80px;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
            transition: transform 0.1s;
        }
        .currency-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .currency-button img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }
        .big-coin {
            width: 200px; /* ì•„ì£¼ í¬ê²Œ */
            height: 200px;
            border-radius: 50%;
            background-color: #FFD700; /* ê¸ˆìƒ‰ */
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            margin: 0 auto; /* ì¤‘ì•™ ì •ë ¬ */
        }
        .big-coin img {
            width: 90%;
            height: 90%;
            object-fit: contain;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-emerald-50 to-teal-100 min-h-screen p-6 flex flex-col items-center text-gray-800">

    <header class="text-center mb-8">
        <h1 class="text-5xl font-extrabold text-green-700 mb-4">ğŸ›’ ì‹ ë‚˜ëŠ” ì¥ë°”êµ¬ë‹ˆ ë†€ì´!</h1>
        <p class="text-xl text-green-600">ë¬¼ê±´ì„ ë‹´ê³  ëˆì„ ë‚´ ë³¼ê¹Œìš”?</p>
        <!-- ì œì‘ì ì •ë³´ ì¶”ê°€ --><p class="text-sm text-gray-500 mt-2">ì œì‘ì: ê¹€ì•„ì˜</p>
    </header>

    <main class="w-full max-w-6xl bg-white p-8 rounded-3xl shadow-2xl grid grid-cols-1 lg:grid-cols-3 gap-8">

        <!-- 1. ë¬¼ê±´ ì„ íƒ ì„¹ì…˜ --><section class="col-span-1 lg:col-span-1 bg-green-50 p-6 rounded-2xl shadow-inner">
            <h2 class="text-3xl font-bold text-green-800 mb-6 text-center">ğŸ ì–´ë–¤ ë¬¼ê±´ì„ ì‚´ê¹Œìš”? ğŸ¥›</h2>
            <div class="grid grid-cols-2 gap-4 justify-items-center">
                <button class="item-button" data-item="apple" data-price="1000">
                    <img src="https://via.placeholder.com/70x70/FF0000/FFFFFF?text=ğŸ" alt="ì‚¬ê³¼">
                    <span class="text-lg font-semibold text-gray-700">ì‚¬ê³¼ (1000ì›)</span>
                </button>
                <button class="item-button" data-item="milk" data-price="2500">
                    <img src="https://via.placeholder.com/70x70/ADD8E6/FFFFFF?text=ğŸ¥›" alt="ìš°ìœ ">
                    <span class="text-lg font-semibold text-gray-700">ìš°ìœ  (2500ì›)</span>
                </button>
                <button class="item-button" data-item="bread" data-price="1500">
                    <img src="https://via.placeholder.com/70x70/DEB887/FFFFFF?text=ğŸ" alt="ë¹µ">
                    <span class="text-lg font-semibold text-gray-700">ë¹µ (1500ì›)</span>
                </button>
                <button class="item-button" data-item="banana" data-price="3000">
                    <img src="https://via.placeholder.com/70x70/FFE135/FFFFFF?text=ğŸŒ" alt="ë°”ë‚˜ë‚˜">
                    <span class="text-lg font-semibold text-gray-700">ë°”ë‚˜ë‚˜ (3000ì›)</span>
                </button>
            </div>
            <button id="reset-cart-button" class="mt-8 w-full py-3 bg-red-500 text-white text-xl font-bold rounded-xl hover:bg-red-600 transition-colors shadow-lg">
                ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸°
            </button>
        </section>

        <!-- 2. ì¥ë°”êµ¬ë‹ˆ ë° ê³„ì‚° ì„¹ì…˜ --><section class="col-span-1 lg:col-span-1 bg-blue-50 p-6 rounded-2xl shadow-inner">
            <h2 class="text-3xl font-bold text-blue-800 mb-6 text-center">ğŸ“‹ ë‚´ ì¥ë°”êµ¬ë‹ˆ</h2>
            <ul id="cart-list" class="space-y-3 mb-6 min-h-[150px] bg-white p-4 rounded-lg border border-blue-200">
                <!-- ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤. --><li class="text-gray-500 text-center">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆì–´ìš”.</li>
            </ul>
            <div class="flex justify-between items-center text-2xl font-bold text-blue-900 mb-6 p-3 bg-blue-100 rounded-lg">
                <span>ì´ ê¸ˆì•¡:</span>
                <span id="total-price">0ì›</span>
            </div>

            <h2 class="text-3xl font-bold text-blue-800 mb-6 text-center">ğŸ’° ëˆì„ ë‚´ ë³¼ê¹Œìš”?</h2>
            <div class="grid grid-cols-3 md:grid-cols-4 gap-3 justify-items-center mb-6">
                <button class="currency-button" data-value="10000">
                    <img src="https://via.placeholder.com/70x70/8B4513/FFFFFF?text=1ë§Œì›" alt="1ë§Œì› ì§€í">
                </button>
                <button class="currency-button" data-value="5000">
                    <img src="https://via.placeholder.com/70x70/B8860B/FFFFFF?text=5ì²œì›" alt="5ì²œì› ì§€í">
                </button>
                <button class="currency-button" data-value="1000">
                    <img src="https://via.placeholder.com/70x70/006400/FFFFFF?text=1ì²œì›" alt="1ì²œì› ì§€í">
                </button>
                <button class="currency-button" data-value="500">
                    <img src="https://via.placeholder.com/70x70/FFD700/000000?text=500" alt="500ì› ë™ì „">
                </button>
                <button class="currency-button" data-value="100">
                    <img src="https://via.placeholder.com/70x70/C0C0C0/000000?text=100" alt="100ì› ë™ì „">
                </button>
                <button class="currency-button" data-value="50">
                    <img src="https://via.placeholder.com/70x70/D3D3D3/000000?text=50" alt="50ì› ë™ì „">
                </button>
                <button class="currency-button" data-value="10">
                    <img src="https://via.placeholder.com/70x70/CD7F32/000000?text=10" alt="10ì› ë™ì „">
                </button>
            </div>

            <div class="flex justify-between items-center text-2xl font-bold text-blue-900 mb-6 p-3 bg-blue-100 rounded-lg">
                <span>ë‚¸ ëˆ:</span>
                <span id="paid-amount">0ì›</span>
            </div>
            <div class="flex justify-between items-center text-3xl font-extrabold text-blue-900 p-4 bg-yellow-200 rounded-lg shadow-md">
                <span>ê±°ìŠ¤ë¦„ëˆ:</span>
                <span id="change-amount">0ì›</span>
            </div>
            
            <button id="pay-button" class="mt-8 w-full py-4 bg-teal-500 text-white text-2xl font-bold rounded-xl hover:bg-teal-600 transition-colors shadow-lg">
                ê³„ì‚°í•˜ê¸°!
            </button>
            <button id="reset-payment-button" class="mt-4 w-full py-3 bg-gray-400 text-white text-xl font-bold rounded-xl hover:bg-gray-500 transition-colors shadow-lg">
                ë‚¸ ëˆ ì´ˆê¸°í™”
            </button>
        </section>

        <!-- 3. í•™ìŠµ ë° 500ì› ë™ì „ í™•ëŒ€ ì„¹ì…˜ --><section class="col-span-1 lg:col-span-1 bg-yellow-50 p-6 rounded-2xl shadow-inner flex flex-col items-center justify-between">
            <div>
                <h2 class="text-3xl font-bold text-yellow-800 mb-6 text-center">ğŸ’¡ ëˆ ê³µë¶€ í•´ë³¼ê¹Œìš”?</h2>
                <div class="big-coin mb-8">
                    <img src="https://via.placeholder.com/180x180/FFD700/000000?text=500" alt="í° 500ì› ë™ì „">
                </div>
                <p class="text-xl text-center text-yellow-700 font-semibold mb-4">
                    ì´ ë™ì „ì€ <span class="text-yellow-900 text-2xl font-extrabold">500ì›</span>ì´ì—ìš”!
                </p>
                <p class="text-lg text-center text-yellow-600">
                    100ì›ì§œë¦¬ ë™ì „ 5ê°œì™€ ê°™ì•„ìš”.
                </p>
            </div>
            <div class="mt-8 text-center text-lg text-gray-600">
                <p>ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ë©´ ì„ ìƒë‹˜ê»˜ ë¬¼ì–´ë³´ì„¸ìš”!</p>
            </div>
        </section>

    </main>

    <script>
        const cartList = document.getElementById('cart-list');
        const totalPriceSpan = document.getElementById('total-price');
        const paidAmountSpan = document.getElementById('paid-amount');
        const changeAmountSpan = document.getElementById('change-amount');
        const itemButtons = document.querySelectorAll('.item-button');
        const currencyButtons = document.querySelectorAll('.currency-button');
        const payButton = document.getElementById('pay-button');
        const resetCartButton = document.getElementById('reset-cart-button');
        const resetPaymentButton = document.getElementById('reset-payment-button');

        let cart = []; // { name: 'ì‚¬ê³¼', price: 1000 }
        let total = 0;
        let paid = 0;

        // ìˆ«ìë¥¼ ì›í™” í˜•ì‹ìœ¼ë¡œ í¬ë§·
        function formatCurrency(amount) {
            return amount.toLocaleString('ko-KR') + 'ì›';
        }

        // ì¥ë°”êµ¬ë‹ˆ ì—…ë°ì´íŠ¸ ë° UI ê°±ì‹ 
        function updateCart() {
            cartList.innerHTML = ''; // ê¸°ì¡´ ëª©ë¡ ì´ˆê¸°í™”
            if (cart.length === 0) {
                cartList.innerHTML = '<li class="text-gray-500 text-center">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆì–´ìš”.</li>';
            } else {
                cart.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'flex justify-between items-center text-lg text-gray-700 border-b border-blue-100 pb-2';
                    li.innerHTML = `
                        <span>${item.name}</span>
                        <span>${formatCurrency(item.price)}</span>
                    `;
                    cartList.appendChild(li);
                });
            }
            
            total = cart.reduce((sum, item) => sum + item.price, 0);
            totalPriceSpan.textContent = formatCurrency(total);
            updateChange(); // ì´ ê¸ˆì•¡ ë³€ê²½ ì‹œ ê±°ìŠ¤ë¦„ëˆë„ ì—…ë°ì´íŠ¸
        }

        // ë‚¸ ëˆ ë° ê±°ìŠ¤ë¦„ëˆ ì—…ë°ì´íŠ¸
        function updateChange() {
            paidAmountSpan.textContent = formatCurrency(paid);
            const change = paid - total;
            changeAmountSpan.textContent = formatCurrency(change > 0 ? change : 0);

            // ëˆì´ ë¶€ì¡±í•˜ë©´ ë©”ì‹œì§€ ë° TTS
            if (paid < total && paid > 0) { // paidê°€ 0ì¼ ë•ŒëŠ” ë§í•˜ì§€ ì•ŠìŒ
                changeAmountSpan.classList.remove('bg-yellow-200');
                changeAmountSpan.classList.add('bg-red-200', 'text-red-800');
                // ëˆ ë¶€ì¡± TTS
                speak('ëˆì´ ë” í•„ìš”í•´ìš”!');
            } else if (paid >= total) {
                changeAmountSpan.classList.remove('bg-red-200', 'text-red-800');
                changeAmountSpan.classList.add('bg-yellow-200');
            }
        }

        // TTS (Text-to-Speech) í•¨ìˆ˜
        function speak(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ko-KR'; // í•œêµ­ì–´ ì„¤ì •
                speechSynthesis.speak(utterance);
            } else {
                console.log("ì›¹ ë¸Œë¼ìš°ì €ê°€ ìŒì„± í•©ì„±ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            }
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ: ë¬¼ê±´ ë²„íŠ¼ í´ë¦­
        itemButtons.forEach(button => {
            button.addEventListener('click', () => {
                const itemName = button.dataset.item === 'apple' ? 'ì‚¬ê³¼' :
                                 button.dataset.item === 'milk' ? 'ìš°ìœ ' :
                                 button.dataset.item === 'bread' ? 'ë¹µ' :
                                 button.dataset.item === 'banana' ? 'ë°”ë‚˜ë‚˜' : 'ì•Œ ìˆ˜ ì—†ìŒ';
                const itemPrice = parseInt(button.dataset.price);
                cart.push({ name: itemName, price: itemPrice });
                updateCart();
                speak(`${itemName} ${itemPrice}ì›`);
            });
        });

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ: í™”í ë²„íŠ¼ í´ë¦­
        currencyButtons.forEach(button => {
            button.addEventListener('click', () => {
                const value = parseInt(button.dataset.value);
                paid += value;
                updateChange();
                speak(`${value}ì›`);
            });
        });

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ: ê³„ì‚°í•˜ê¸° ë²„íŠ¼ í´ë¦­
        payButton.addEventListener('click', () => {
            if (paid >= total) {
                const change = paid - total;
                speak(`ê³„ì‚° ì™„ë£Œ! ${change}ì› ê±°ìŠ¤ë¦„ëˆì´ì—ìš”. ë‹¤ìŒì— ë˜ ì˜¤ì„¸ìš”!`);
                alert(`ê³„ì‚° ì™„ë£Œ! ì´ ${formatCurrency(total)}, ë‚¸ ëˆ ${formatCurrency(paid)}, ê±°ìŠ¤ë¦„ëˆ ${formatCurrency(change)}`);
                // ì‹œë®¬ë ˆì´ì…˜ ì´ˆê¸°í™”
                cart = [];
                total = 0;
                paid = 0;
                updateCart();
                updateChange();
            } else {
                speak('ëˆì´ ë¶€ì¡±í•´ìš”! ëˆì„ ë” ë‚´ì£¼ì„¸ìš”!');
                alert('ëˆì´ ë¶€ì¡±í•´ìš”! ëˆì„ ë” ë‚´ì£¼ì„¸ìš”.');
            }
        });

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ: ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸° ë²„íŠ¼ í´ë¦­
        resetCartButton.addEventListener('click', () => {
            cart = [];
            total = 0;
            updateCart();
            updateChange(); // ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì›Œì¡Œìœ¼ë‹ˆ ê±°ìŠ¤ë¦„ëˆë„ ë‹¤ì‹œ ê³„ì‚°
            speak('ì¥ë°”êµ¬ë‹ˆë¥¼ ë¹„ì› ì–´ìš”.');
        });

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ: ë‚¸ ëˆ ì´ˆê¸°í™” ë²„íŠ¼ í´ë¦­
        resetPaymentButton.addEventListener('click', () => {
            paid = 0;
            updateChange();
            speak('ë‚¸ ëˆì„ ì´ˆê¸°í™”í–ˆì–´ìš”.');
        });

        // ì´ˆê¸°í™”
        updateCart();
        updateChange();
    </script>
</body>
</html>
